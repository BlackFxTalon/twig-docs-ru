<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="robots" content="index, follow, all"/>
  <meta name="Author" content="SensioLabs"/>
  <meta name="Language" content="ru"/>
  <meta name="Copyright" content="Sensio"/>
  <meta name="Publisher" content="Sensio"/>
  <meta name="Description" content="Twig - The flexible, fast, and secure template engine for PHP"/>
  <meta name="Keywords" content="twig, templating, template, engine, template engine, template language, php"/>

  <title>embed - Documentation - Twig - The flexible, fast, and secure PHP template engine</title>

  <link href="../../../css/reset-min.css" rel="stylesheet" type="text/css"/>
  <link href="../../../css/base.css" rel="stylesheet" type="text/css"/>
  <link href="../../../css/colors.css" rel="stylesheet" type="text/css"/>
  <link href="../../../css/code.css" rel="stylesheet" type="text/css"/>
  <link href="../../../css/pygments.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript">     var _gaq = _gaq || [];   </script>
</head>
<body>
<a href="https://github.com/ruden/twig-docs-ru"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
<div id="sln"></div>
<div class="hd">
  <div class="illustration png_fix">
    <div class="content">
      <div class="sensio_product">
        <img class="png_fix" src="../../../images/sensio-labs-product.svg" alt="a SensioLabs Product" height="18"/>
      </div>
      <div class="clearfix">
        <div class="logo_header"><a href="/twig-docs-ru/">Twig</a></div>
        <h1 class="title_header">
          Гибкий, быстрый и безопасный<br/>шаблонизатор для PHP
        </h1>
      </div>

      <div class="menu">
        <ul>
          <li><a href="/twig-docs-ru/">О TWIG</a></li>
          <li><a class="active" href="/twig-docs-ru/doc/2.x/">ДОКУМЕНТАЦИЯ</a></li>
          <li><a href="/twig-docs-ru/development.html">РАЗРАБОТКА</a></li>
          <li><a href="/twig-docs-ru/contributors.html">УЧАСТНИКИ</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="bd">
  <div class="content">
    <div class="alert">

      You are reading the documentation for Twig 2.x.

      Switch to the documentation for Twig
      <a href="/doc/1.x/">1.x</a>.
    </div>


    <div class="infobar clearfix">

      <div class="infobar-box">
        <h3>Questions &amp; Feedback</h3>
        <div class="feedback">
          <p>
            <strong>Found a typo or an error?</strong><br/>
            Want to improve this document?
            <a href="https://github.com/twigphp/Twig/edit/2.x/doc/tags/embed.rst">Edit</a> it.
          </p>
          <p>
            <strong>Need support or have a technical question?</strong><br/>
            Ask support on <a href="https://stackoverflow.com/">Stack Overflow</a>.
          </p>
        </div>

        <h3>License</h3>
        <div id="license">
          Twig
          <span href="https://purl.org/dc/dcmitype/MovingImage" rel="dc:type">documentation</span> is licensed under the
          new BSD <a href="/twig-docs-ru/license.html">License</a>.
        </div>
      </div>
    </div>

    <div class="body-web">
      <div class="section" id="embed">
        <h1>
          <code class="notranslate">embed</code><a class="headerlink" href="#embed" title="Permalink to this headline">¶</a>
        </h1>
        <p>The <code class="notranslate">embed</code> tag combines the behaviour of
          <a class="reference internal" href="include.html"><span class="doc">include</span></a> and
          <a class="reference internal" href="extends.html"><span class="doc">extends</span></a>.
          It allows you to include another template's contents, just like <code class="notranslate">include</code>
          does. But it also allows you to override any block defined inside the
          included template, like when extending a template.</p>
        <p>Think of an embedded template as a &quot;micro layout skeleton&quot;.</p>
        <div class="literal-block notranslate">
          <div class="highlight-jinja">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">embed</span> <span class="s2">&quot;teasers_skeleton.twig&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="c">{# These blocks are defined in &quot;teasers_skeleton.twig&quot; #}</span><span class="x"></span>
<span class="x">    </span><span class="c">{# and we override them right here:                    #}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">left_teaser</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        Some content for the left teaser box</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">right_teaser</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        Some content for the right teaser box</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endembed</span> <span class="cp">%}</span><span class="x"></span>
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <p>The <code class="notranslate">embed</code> tag takes the idea of template inheritance to the level of
          content fragments. While template inheritance allows for &quot;document skeletons&quot;,
          which are filled with life by child templates, the <code class="notranslate">embed</code> tag allows you to
          create &quot;skeletons&quot; for smaller units of content and re-use and fill them
          anywhere you like.</p>
        <p>Since the use case may not be obvious, let's look at a simplified example.
          Imagine a base template shared by multiple HTML pages, defining a single block
          named &quot;content&quot;:</p>
        <div class="literal-block notranslate">
          <div class="highlight-text">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span>┌─── page layout ─────────────────────┐
│                                     │
│           ┌── block &quot;content&quot; ──┐   │
│           │                     │   │
│           │                     │   │
│           │ (child template to  │   │
│           │  put content here)  │   │
│           │                     │   │
│           │                     │   │
│           └─────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <p>Some pages (&quot;foo&quot; and &quot;bar&quot;) share the same content structure -
          two vertically stacked boxes:</p>
        <div class="literal-block notranslate">
          <div class="highlight-text">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span>┌─── page layout ─────────────────────┐
│                                     │
│           ┌── block &quot;content&quot; ──┐   │
│           │ ┌─ block &quot;top&quot; ───┐ │   │
│           │ │                 │ │   │
│           │ └─────────────────┘ │   │
│           │ ┌─ block &quot;bottom&quot; ┐ │   │
│           │ │                 │ │   │
│           │ └─────────────────┘ │   │
│           └─────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <p>While other pages (&quot;boom&quot; and &quot;baz&quot;) share a different content structure -
          two boxes side by side:</p>
        <div class="literal-block notranslate">
          <div class="highlight-text">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span>┌─── page layout ─────────────────────┐
│                                     │
│           ┌── block &quot;content&quot; ──┐   │
│           │                     │   │
│           │ ┌ block ┐ ┌ block ┐ │   │
│           │ │&quot;left&quot; │ │&quot;right&quot;│ │   │
│           │ │       │ │       │ │   │
│           │ │       │ │       │ │   │
│           │ └───────┘ └───────┘ │   │
│           └─────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <p>Without the <code class="notranslate">embed</code> tag, you have two ways to design your templates:</p>
        <blockquote>
          <div>
            <ul class="simple">
              <li>Create two &quot;intermediate&quot; base templates that extend the master layout
                template: one with vertically stacked boxes to be used by the &quot;foo&quot; and
                &quot;bar&quot; pages and another one with side-by-side boxes for the &quot;boom&quot; and
                &quot;baz&quot; pages.
              </li>
              <li>Embed the markup for the top/bottom and left/right boxes into each page
                template directly.
              </li>
            </ul>
          </div>
        </blockquote>
        <p>These two solutions do not scale well because they each have a major drawback:</p>
        <blockquote>
          <div>
            <ul class="simple">
              <li>The first solution may indeed work for this simplified example. But imagine
                we add a sidebar, which may again contain different, recurring structures
                of content. Now we would need to create intermediate base templates for
                all occurring combinations of content structure and sidebar structure...
                and so on.
              </li>
              <li>The second solution involves duplication of common code with all its negative
                consequences: any change involves finding and editing all affected copies
                of the structure, correctness has to be verified for each copy, copies may
                go out of sync by careless modifications etc.
              </li>
            </ul>
          </div>
        </blockquote>
        <p>In such a situation, the <code class="notranslate">embed</code> tag comes in handy. The common layout
          code can live in a single base template, and the two different content structures,
          let's call them &quot;micro layouts&quot; go into separate templates which are embedded
          as necessary:</p>
        <p>Page template <code class="notranslate">foo.twig</code>:</p>
        <div class="literal-block notranslate">
          <div class="highlight-jinja">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;layout_skeleton.twig&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">embed</span> <span class="s2">&quot;vertical_boxes_skeleton.twig&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">top</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            Some content for the top box</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">        </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">bottom</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            Some content for the bottom box</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endembed</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <p>And here is the code for <code class="notranslate">vertical_boxes_skeleton.twig</code>:</p>
        <div class="literal-block notranslate">
          <div class="highlight-html+jinja">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;top_box&quot;</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">top</span> <span class="cp">%}</span>
        Top box default content
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;bottom_box&quot;</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">bottom</span> <span class="cp">%}</span>
        Bottom box default content
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <p>The goal of the <code class="notranslate">vertical_boxes_skeleton.twig</code> template being to factor
          out the HTML markup for the boxes.</p>
        <p>The <code class="notranslate">embed</code> tag takes the exact same arguments as the
          <code class="notranslate">include</code> tag:</p>
        <div class="literal-block notranslate">
          <div class="highlight-jinja">
            <table class="highlighttable">
              <tr>
                <td class="linenos">
                  <div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre>
                  </div>
                </td>
                <td class="code">
                  <div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">embed</span> <span class="s2">&quot;base&quot;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endembed</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">embed</span> <span class="s2">&quot;base&quot;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="nv">only</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endembed</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">embed</span> <span class="s2">&quot;base&quot;</span> <span class="k">ignore missing</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endembed</span> <span class="cp">%}</span><span class="x"></span>
</pre>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="admonition-wrapper">
          <div class="warning"></div>
          <div class="admonition admonition-warning"><p class="first admonition-title">Warning</p>
            <p class="last">As embedded templates do not have &quot;names&quot;, auto-escaping strategies based
              on the template name won't work as expected if you change the context (for
              instance, if you embed a CSS/JavaScript template into an HTML one). In that
              case, explicitly set the default auto-escaping strategy with the
              <code class="notranslate">autoescape</code> tag.</p>
          </div>
        </div>
        <div class="admonition-wrapper">
          <div class="seealso"></div>
          <div class="admonition admonition-seealso">
            <a class="reference internal" href="include.html"><span class="doc">include</span></a></div>
        </div>
      </div>

    </div>

    <div class="navigation">
      <a accesskey="P" title="do" href="do.html">
        &laquo;&nbsp;do
      </a>
      <span class="separator">|</span> <a accesskey="N" title="extends" href="extends.html">
      extends&nbsp;&raquo;
    </a>
    </div>
  </div>
  <div class="ft">
    <div class="content">
      The Twig <a href="images/twig-logo.png">logo</a> is &copy; 2010-2018
      <a target="_blank" href="https://sensiolabs.com/" class="sensiolabs">Sensio<span class="brand">Labs</span></a>
    </div>
  </div>
</div>
</body>
</html>
